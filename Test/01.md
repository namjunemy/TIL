## 2. 테스트에 대한 개요와 개발자가 해야할 고민

### 1. 테스트란

- 크게 두 개로 나눌 수 있음
    - 인수테스트 - 사람이 직접
    - 자동테스트 - 개발자가 코드로 작성

### 2. TDD

- 테스트 주도 개발
    - RED - 깨지는 테스트 먼저 작성
    - GREEN - 깨지는 테스트 성공시키기
    - BLUE - 리팩토링
- 장점
    - 깨지는 테스트를 먼저 작성해야하기 때문에, 인터페이스를 먼저 만드는 것이 강제된다.
        - 인터페이스에 주목한다는 것은 객체지향의 핵심 원리인 **행동**에 집중한다는 것이다.
        - 이것을 다시 말하면 TDD가 책임 주도 설계의 핵심 과정인 What/Who 사이클을 고민하게 도와준다라고 보면 된다.
        - What/Who 사이클
            - 객체 사이의 혐력 관계를 설계하기 위해서
            - 어떤 행위(What)를 수행할 것인지를 결정한 후에 누가(Who) 그 행위를 수행할 것인지를 결정해야 한다는 것이다.
    - 장기적인 관점에서 개발 비용 감소
        - 기존 코드의 테스트가 있기 때문에 이것을 믿고
        - 신규 기능이 주는 영향을 확인하면서 개발 가능하다.

### 3. 개발자의 고민

- 무의미한 테스트
    - 커버리지를 위한 테스트
    - 예를 들면, 2줄의 JPA 코드를 테스트하기 위해 60줄의 테스트 코드가 작성되어야 한다면?
- 느리고 쉽게 깨지는 테스트
- 테스트가 불가한 코드
    - 테스트가 불가능하다는 것은 아키텍처를 개선할 수 있는 기회다.
    - 테스트가 전하는 신호다. 뭔가 잘못 됐으니까 수정 좀 해봐. 라고.
    - 대충 mock해서 테스트 채워넣지 말자.
- 테스트가 전하는 신호에 집중하다 보면 좋은 설계를 유도할 수 있다. 
